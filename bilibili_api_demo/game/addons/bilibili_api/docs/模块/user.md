# user 模块

`from bilibili_api import user`

该模块可以获取用户个人信息（关注数，粉丝数，投稿视频等）以及对用户进行操作（拉黑，关注，私聊等）。

## 通用名词解释

uid: 用于标识用户的唯一纯数字ID，从用户空间的地址最后面可以获取到。

**如无特殊说明，下列所有方法均需要传入uid。**

如果用户不公开收藏夹等信息就无法获取，如果要获取自己的要提供Verify以取得权限。

## 方法

### get_overview

获取用户数据总览

### get_user_info

获取用户信息（昵称，性别，生日，签名，头像URL，空间横幅URL等）

### get_self_info

获取自己的信息，需要传入带SESSDATA的Verify类。

### get_relation_info

获取用户关系信息（关注数，粉丝数，悄悄关注，黑名单数）

### get_up_info

获取UP主数据信息（视频总播放量，文章总阅读量，总点赞数）

**需要传入Verify**

### get_live_info

获取用户直播间信息

### get_videos

自动循环获取用户投稿视频信息

| 参数名 | 类型 | 必须提供 | 默认    | 释义                                                         |
| ------ | ---- | -------- | ------- | ------------------------------------------------------------ |
| order  | str  | False    | pubdate | 排序依据，pubdate（上传日期）, view（播放量）, favorite（收藏量） |
| keyword | str  | False    | ""      | 搜索关键词                                                   |
| tid | int  | False    | 0      | 分区ID                                                   |

参照：[循环获取数据参数说明][循环获取数据参数说明]

### get_videos_raw

低层级API，获取视频信息API的原始返回。

| 参数名  | 类型 | 必须提供 | 默认    | 释义                                                         |
| ------- | ---- | -------- | ------- | ------------------------------------------------------------ |
| order   | str  | False    | pubdate | 排序依据，pubdate（上传日期）, view（播放量）, favorite（收藏量） |
| keyword | str  | False    | ""      | 搜索关键词                                                   |
| tid | int  | False    | 0      | 分区ID                                                   |
| pn      | int  | False    | 1       | 页码                                                         |
| ps      | int  | False    | 30      | 每页数量，保持30默认                                         |

### get_audios

自动循环获取用户投稿视频信息

| 参数名 | 类型 | 必须提供 | 默认    | 释义                                                         |
| ------ | ---- | -------- | ------- | ------------------------------------------------------------ |
| order  | str  | False    | pubdate | 排序依据，pubdate（上传日期）, view（播放量）, favorite（收藏量） |

参照：[循环获取数据参数说明][循环获取数据参数说明]

### get_audios_raw

低层级API，获取用户音频投稿API原始返回

| 参数名  | 类型 | 必须提供 | 默认    | 释义                                                         |
| ------- | ---- | -------- | ------- | ------------------------------------------------------------ |
| order   | str  | False    | pubdate | 排序依据，pubdate（上传日期）, view（播放量）, favorite（收藏量） |
| keyword | str  | False    | ""      | 搜索关键词                                                   |
| pn      | int  | False    | 1       | 页码                                                         |
| ps      | int  | False    | 30      | 每页数量，保持30默认                                         |

### get_articles

自动循环获取用户专栏信息

| 参数名 | 类型 | 必须提供 | 默认    | 释义                                                         |
| ------ | ---- | -------- | ------- | ------------------------------------------------------------ |
| order  | str  | False    | pubdate | 排序依据，pubdate（上传日期）, view（播放量）, favorite（收藏量） |

参照：[循环获取数据参数说明][循环获取数据参数说明]

### get_articles_raw

低层级API，获取用户专栏投稿API原始返回

| 参数名  | 类型 | 必须提供 | 默认    | 释义                                                         |
| ------- | ---- | -------- | ------- | ------------------------------------------------------------ |
| order   | str  | False    | pubdate | 排序依据，pubdate（上传日期）, view（播放量）, favorite（收藏量） |
| keyword | str  | False    | ""      | 搜索关键词                                                   |
| pn      | int  | False    | 1       | 页码                                                         |
| ps      | int  | False    | 30      | 每页数量，保持30默认                                         |

### get_article_list

获取用户专栏文集信息

| 参数名 | 类型 | 必须提供 | 默认    | 释义                                           |
| ------ | ---- | -------- | ------- | ---------------------------------------------- |
| order  | str  | False    | pubdate | 排序依据，latest（最近更新）, view（最多阅读） |

### get_dynamic

自动循环获取用户动态信息

参照：[循环获取数据参数说明][循环获取数据参数说明]

### get_dynamic_raw

低层级API，获取用户专栏投稿API原始返回

| 参数名   | 类型 | 必须提供 | 默认  | 释义                         |
| -------- | ---- | -------- | ----- | ---------------------------- |
| offset   | str  | False    | 0     | 下一页第一个动态的dynamic_id |
| need_top | bool | False    | False | 返回置顶动态                 |

### get_bangumi

自动循环获取用户追番/追剧信息

| 参数名 | 类型 | 必须提供 | 默认    | 释义                                 |
| ------ | ---- | -------- | ------- | ------------------------------------ |
| type_  | str  | False    | bangumi | 类型，bangumi（追番）、drama（追剧） |

参照：[循环获取数据参数说明][循环获取数据参数说明]

### get_bangumi_raw

低层级API，获取用户追番/追剧信息API原始返回

| 参数名 | 类型 | 必须提供 | 默认    | 释义                                 |
| ------ | ---- | -------- | ------- | ------------------------------------ |
| type_  | str  | False    | bangumi | 类型，bangumi（追番）、drama（追剧） |
| pn     | int  | False    | 1       | 页码                                 |
| ps     | int  | False    | 15      | 每页数量，保持15默认                 |

### get_favorite_list_content

自动循环获取用户获取收藏夹内容信息

| 参数名   | 类型 | 必须提供 | 默认  | 释义                                                         |
| -------- | ---- | -------- | ----- | ------------------------------------------------------------ |
| media_id | int  | True     | -     | 收藏夹id                                                     |
| order    | str  | False    | mtime | 排序方式，mtime（最近收藏）view（最多播放）pubtime（最近投稿） |

参照：[循环获取数据参数说明][循环获取数据参数说明]

### get_favorite_list_content_raw

低层级API，获取用户收藏夹内容原始返回

| 参数名   | 类型 | 必须提供 | 默认  | 释义                                                         |
| -------- | ---- | -------- | ----- | ------------------------------------------------------------ |
| media_id | int  | True     | -     | 收藏夹id                                                     |
| order    | str  | False    | mtime | 排序方式，mtime（最近收藏）view（最多播放）pubtime（最近投稿） |
| ps       | int  | False    | 20    | 每页数量，保持20默认                                         |
| pn       | int  | False    | 1     | 页码                                                         |
| keyword  | str  | False    | ""    | 关键词                                                       |
| tid      | int  | False    | 0     | 分区id                                                       |
| type_    | str  | int      | 0     | 收藏夹类型，暂时不知具体参数，保持默认                       |

### get_favorite_list

获取用户收藏夹列表

### get_followings

循环获取用户关注列表，b站限制不是自己只能获取前5页

| 参数名 | 类型 | 必须提供 | 默认 | 释义                    |
| ------ | ---- | -------- | ---- | ----------------------- |
| order  | str  | False    | desc | 排序，desc倒序，asc正序 |

参照：[循环获取数据参数说明][循环获取数据参数说明]

### get_followings_raw

低层级API,获取用户关注列表（不是自己只能访问前5页）

| 参数名 | 类型 | 必须提供 | 默认 | 释义                    |
| ------ | ---- | -------- | ---- | ----------------------- |
| order  | str  | False    | desc | 排序，desc倒序，asc正序 |
| ps     | int  | False    | 20   | 每页数量，保持默认      |
| pn     | int  | False    | 1    | 页码                    |

### get_followers

循环获取用户粉丝列表，b站限制不是自己只能获取前5页

| 参数名 | 类型 | 必须提供 | 默认 | 释义                    |
| ------ | ---- | -------- | ---- | ----------------------- |
| order  | str  | False    | desc | 排序，desc倒序，asc正序 |

参照：[循环获取数据参数说明][循环获取数据参数说明]

### get_followers_raw

低层级API,获取用户粉丝列表（不是自己只能访问前5页，即使是自己也不能获取到全部）

| 参数名 | 类型 | 必须提供 | 默认 | 释义                    |
| ------ | ---- | -------- | ---- | ----------------------- |
| order  | str  | False    | desc | 排序，desc倒序，asc正序 |
| ps     | int  | False    | 20   | 每页数量，保持默认      |
| pn     | int  | False    | 1    | 页码                    |

### set_subscribe

设置关注状态。

| 参数名  | 类型 | 必须提供 | 默认  | 释义     |
| ------- | ---- | -------- | ----- | -------- |
| status  | bool | False    | True  | 状态     |
| whisper | bool | False    | False | 悄悄关注 |

### set_black

设置拉黑状态。

| 参数名 | 类型 | 必须提供 | 默认 | 释义 |
| ------ | ---- | -------- | ---- | ---- |
| status | bool | False    | True | 状态 |

### remove_fans

移除粉丝

### send_msg

发送私聊信息。

| 参数名   | 类型 | 必须提供 | 默认 | 释义      |
| -------- | ---- | -------- | ---- | --------- |
| text     | str  | True     | -    | 内容      |
| self_uid | int  | False    | None | 自己的UID |

注意，self_uid如果不提供将会自动调用API获取，会多一步请求，如果量大的话降低效率。 

### get_self_subscribe_group

获取自己的关注分组列表

**需要传入Verify**

### get_user_in_which_subscribe_groups

获取用户在哪些关注分组列表

| 参数名   | 类型 | 必须提供 | 默认 | 释义      |
| -------- | ---- | -------- | ---- | --------- |
| uid     | int  | True     | -    | 用户UID      |

### add_subscribe_group

添加关注分组

| 参数名   | 类型 | 必须提供 | 默认 | 释义      |
| -------- | ---- | -------- | ---- | --------- |
| name     | str  | True     | -    | 分组名      |

### del_subscribe_group

删除关注分组

| 参数名   | 类型 | 必须提供 | 默认 | 释义      |
| -------- | ---- | -------- | ---- | --------- |
| group_id     | int  | True     | -    | 分组id      |


### rename_subscribe_group

重命名关注分组

| 参数名   | 类型 | 必须提供 | 默认 | 释义      |
| -------- | ---- | -------- | ---- | --------- |
| group_id     | int  | True     | -    | 分组id      |
| new_name     | str  | True     | -    | 新的分组名      |

### move_user_subscribe_group

移动用户到特定的关注分组

| 参数名   | 类型 | 必须提供 | 默认 | 释义      |
| -------- | ---- | -------- | ---- | --------- |
| uid     | int  | True     | -    | 用户uid      |
| group_id     | int  | True     | -    | 分组id      |


[循环获取数据参数说明]: /docs/通用解释.md#循环获取数据参数说明